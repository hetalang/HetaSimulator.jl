<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>sim · HetaSimulator Docs</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-149749027-1', 'auto');
ga('send', 'pageview', {'page': location.pathname + location.search + location.hash});
</script><link rel="canonical" href="https://hetalang.github.io/HetaSimulator.jl/dev/methods/sim/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">HetaSimulator Docs</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Basics</span><ul><li><a class="tocitem" href="../../basics/overview/">Overview of HetaSimulator.jl</a></li><li><a class="tocitem" href="../../table-formats/condition/">Conditions tables</a></li><li><a class="tocitem" href="../../table-formats/measurement/">Measurements tables</a></li></ul></li><li><span class="tocitem">Methods</span><ul><li class="is-active"><a class="tocitem" href>sim</a><ul class="internal"><li><a class="tocitem" href="#Single-condition-simulation"><span>Single condition simulation</span></a></li><li><a class="tocitem" href="#Multiple-condition-simulations"><span>Multiple condition simulations</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Methods</a></li><li class="is-active"><a href>sim</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>sim</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/hetalang/HetaSimulator.jl/blob/master/docs/src/methods/sim.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="sim"><a class="docs-heading-anchor" href="#sim">sim</a><a id="sim-1"></a><a class="docs-heading-anchor-permalink" href="#sim" title="Permalink"></a></h1><p>In HetaSimulator <a href="../../api/#HetaSimulator.sim-Tuple{Model}"><code>sim</code></a> method can be applied for single or multiple conditions.</p><h2 id="Single-condition-simulation"><a class="docs-heading-anchor" href="#Single-condition-simulation">Single condition simulation</a><a id="Single-condition-simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Single-condition-simulation" title="Permalink"></a></h2><p>The base <code>sim</code> method is applied for <code>Condition</code> object. Conditions can be loaded from tables of created using <a href="../../api/#HetaSimulator.Condition-Tuple{Model}"><code>HetaSimulator.Condition</code></a> function.</p><pre><code class="language-julia">cond1 = HetaSimulator.Condition(model; observables = [:C1, :C2], tspan = (0., 48.), parameters = [:dose =&gt; 12.])
res1 = sim(cond1; alg = Rosenbrock23())</code></pre><p>The result of <code>sim</code> function execution is solution of ODE with parameters passed from (1) <code>Model</code> content and default settings, (2) settings passed from created <code>Condition</code> object and (3) additional settings from <code>sim</code> function. This function returns an object of type <a href="methods/@ref"><code>SimSolution</code></a> which stores simulated dataset in <code>sim</code> property and the original condition inside <code>cond</code> property.</p><p>There are some specific methods for <code>SimSolution</code> objects like <code>plot</code> and <code>DataFrame</code>.</p><pre><code class="language-julia">plot(res1)
DataFrame(res1)</code></pre><p><code>sim</code> can also be applied for <code>Model</code> without explicit creation of <code>Condition</code>. In that case you can pass all settings into <code>sim</code> function. <code>Condition</code> object will be created in the same manner. The next code get the same results as in previous example.</p><pre><code class="language-julia">res1 = sim(model; observables = [:C1, :C2], tspan = (0., 48.), parameters = [:dose =&gt; 12.], alg = Rosenbrock23())
plot(res1)</code></pre><p>The first approach is useful when you need to store different conditions applied for the same model and simulate them when required. The second approach is more compact and can be used for some preliminary simulation experiments.</p><h2 id="Multiple-condition-simulations"><a class="docs-heading-anchor" href="#Multiple-condition-simulations">Multiple condition simulations</a><a id="Multiple-condition-simulations-1"></a><a class="docs-heading-anchor-permalink" href="#Multiple-condition-simulations" title="Permalink"></a></h2><p><code>sim</code> can be applied for many <code>Condition</code>s simultaneously.</p><h3 id="vector-of-pairs"><a class="docs-heading-anchor" href="#vector-of-pairs">vector of pairs</a><a id="vector-of-pairs-1"></a><a class="docs-heading-anchor-permalink" href="#vector-of-pairs" title="Permalink"></a></h3><p>The basic multi-conditional operation is performed for <code>Vector</code> of pairs consisting of <code>Symbol</code> identifier and <code>Condition</code>.</p><pre><code class="language-julia">condition_pairs = [
    :first =&gt; HetaSimulator.Condition(model, tspan = (0., 120.)),
    :second =&gt; HetaSimulator.Condition(model, parameters = [:dose =&gt; 20], tspan = (0., 120.))
]
res = sim(condition_pairs)</code></pre><p>The returned object is of type <code>Vector{Pair{Symbol, SimResults}}</code> which can be plotted of transformed into <code>DataFrame</code>.</p><h3 id="vector-of-conditions"><a class="docs-heading-anchor" href="#vector-of-conditions">vector of conditions</a><a id="vector-of-conditions-1"></a><a class="docs-heading-anchor-permalink" href="#vector-of-conditions" title="Permalink"></a></h3><p>User can also use conditions without symbolic identifiers. In that case they will be generated automatically with the following rule: <code>_1</code>, <code>_2</code>, etc.</p><pre><code class="language-julia">condition_pairs = [
    HetaSimulator.Condition(model, tspan = (0., 120.)),
    HetaSimulator.Condition(model, parameters = [:dose =&gt; 20], tspan = (0., 120.))
]
res = sim(condition_pairs)</code></pre><h3 id="platform"><a class="docs-heading-anchor" href="#platform">platform</a><a id="platform-1"></a><a class="docs-heading-anchor-permalink" href="#platform" title="Permalink"></a></h3><p><code>sim</code> method can be applied for conditions inside <code>Platform</code> object.</p><pre><code class="language-julia">res = sim(platform)</code></pre><p>To simulate the selected conditions one can use <code>conditions</code> argument.</p><pre><code class="language-julia">res = sim(platform; conditions = [:cond1, :cond2])</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../table-formats/measurement/">« Measurements tables</a><a class="docs-footer-nextpage" href="../../api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 27 July 2021 14:36">Tuesday 27 July 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
